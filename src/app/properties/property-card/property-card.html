<div class="bg-white rounded-lg shadow-md flex flex-col relative overflow-visible h-full">

  @if (property().mine) {
    <a [routerLink]="['/properties/edit', property().id]"
       class="absolute right-8 -top-3 rounded-full text-white bg-blue-700 p-1 shadow-md hover:bg-blue-600 z-20">
        <svg class="icon" width="24" height="24">
            <use href="icons/edit.svg#edit"></use> 
        </svg>
    </a>

    <button class="absolute -right-3 -top-3 rounded-full text-white bg-red-700 p-1 shadow-md hover:bg-red-600 btn-delete z-20"
        (click)="deleteProperty()">
        <svg class="icon" width="24" height="24">
            <use href="icons/close.svg#close"></use>
        </svg>
    </button>
  }

  <a [routerLink]="['/properties', property().id]" class="block cursor-pointer">
    <img [src]="property().mainPhoto" [title]="property().title" [alt]="property().title"
        class="w-full aspect-16/10 object-cover rounded-t-lg">
  </a>

  <div class="p-6 flex flex-col grow">
    
    <a [routerLink]="['/properties', property().id]" class="hover:text-blue-600 transition-colors">
        <h3 class="text-xl font-bold text-gray-800 mb-2 truncate">{{property().title}}</h3>
    </a>

    <p class="text-gray-500 mb-4 text-sm property-location grow">
        {{property().town.province.name}}, {{property().town.name}}, {{property().address}}
    </p>

    <p class="text-lg font-semibold text-gray-900 mb-4 property-price">
        {{property().price | intlCurrency:"EUR":"es-ES"}}
    </p>

    <div class="flex justify-between text-gray-700 text-sm border-t pt-4 border-gray-100">
        <span class="property-sqmeters">{{property().sqmeters}} mÂ²</span>
        <span class="property-rooms">{{property().numRooms}} beds</span>
        <span class="property-baths">{{property().numBaths}} baths</span>
    </div>
  </div>
</div>