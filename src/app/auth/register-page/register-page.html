<main class="container mx-auto px-4 py-8 mt-16 grow flex items-center justify-center">
  <div class="w-full max-w-lg">
    <form id="register-form" class="bg-white p-8 rounded-lg shadow-md">
      <h2 class="text-2xl font-bold text-gray-800 mb-8 text-center">Create an account</h2>

      <!-- Campo de Nombre -->
      <div class="mb-6">
        <label for="name" class="block text-gray-700 font-bold mb-2">Full name</label>
        <input type="text" id="name" [formField]="newRegisterForm.name"
          class="w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
          placeholder="Ej: Ana García">
        @for (error of newRegisterForm.name().errors(); track error.kind) {
        <div class="error-msg text-sm text-red-700">{{ error.message }}</div>
        }
      </div>

      <!-- Campos de Email -->
      <div class="mb-6">
        <label for="email" class="block text-gray-700 font-bold mb-2">Email</label>
        <input type="email" id="email" [formField]="newRegisterForm.email"
          class="w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
          placeholder="tu.email@ejemplo.com">
        @for (error of newRegisterForm.email().errors(); track error.kind) {
        <div class="error-msg text-sm text-red-700">{{ error.message }}</div>
        }
      </div>
      <div class="mb-6">
        <label for="email" class="block text-gray-700 font-bold mb-2">Email</label>
        <input type="email" id="email" [formField]="newRegisterForm.emailConfirm"
          class="w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
          placeholder="tu.email@ejemplo.com">
        @for (error of newRegisterForm.email().errors(); track error.kind) {
        <div class="error-msg text-sm text-red-700">{{ error.message }}</div>
        }
      </div>

      <!-- Campos de Contraseña -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
        <div>
          <label for="password" class="block text-gray-700 font-bold mb-2">Password</label>
          <input type="password" id="password" [formField]="newRegisterForm.password"
            class="w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
            placeholder="••••••••">
          @for (error of newRegisterForm.password().errors(); track error.kind) {
          <div class="error-msg text-sm text-red-700">{{ error.message }}</div>
          }
        </div>
        <div>
          <label for="password-confirm" class="block text-gray-700 font-bold mb-2">Repeat Password</label>
          <input type="password" id="password-confirm" [formField]="newRegisterForm.passwordConfirm"
            class="w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
            placeholder="••••••••">
          @for (error of newRegisterForm.passwordConfirm().errors(); track error.kind) {
          <div class="error-msg text-sm text-red-700">{{ error.message }}</div>
          }
        </div>
      </div>

      <!-- Campo de Avatar -->
      <div class="mb-8">
        <label for="avatar" class="block text-gray-700 font-bold mb-2">Avatar</label>
        <input type="file" id="avatar" [formField]="avatarControl" encodeBase64
          (encoded)="newRegisterForm.avatar().setControlValue($event)" accept="image/*"
          class="w-full text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100">
        @for (error of newRegisterForm.avatar().errors(); track error.kind) {
        <div class="error-msg text-sm text-red-700">{{ error.message }}</div>
        }
        <!-- Contenedor para la previsualización de la imagen -->
        @if (newRegister().avatar) {
        <div class="mt-4">
          <img [src]="newRegister().avatar" alt="Avatar preview" class="w-24 h-24 object-cover rounded-full">
        </div>
        }
      </div>

      <!-- Botón de Envío -->
      <div class="mt-8">
        <button type="submit" (click)="register($event)" [disabled]="newRegisterForm().invalid()"
          class="w-full bg-blue-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 disabled:bg-slate-400 disabled:cursor-not-allowed">
          Register
        </button>
      </div>

      <!-- Enlace a Login -->
      <div class="mt-6 text-center">
        <p class="text-sm text-gray-600">
          Already have an account?
          <a href="login.html" class="font-medium text-blue-600 hover:text-blue-500">
            Log in here
          </a>
        </p>
      </div>
    </form>
  </div>
</main>